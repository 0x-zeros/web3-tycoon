<html>
    <head>
        <link rel="icon" href="./favicon.ico" />
        <meta charset="utf-8" />
        <title><%=title%></title>
        <meta
            name="viewport"
            content="width=device-width,user-scalable=no,initial-scale=1,minimum-scale=1,maximum-scale=1,minimal-ui=true"
        />
        <meta name="apple-mobile-web-app-capable" content="yes" />
        <meta name="mobile-web-app-capable" content="yes">
        <meta name="full-screen" content="yes" />
        <meta name="screen-orientation" content="portrait" />
        <meta name="x5-fullscreen" content="true" />
        <meta name="360-fullscreen" content="true" />
        <meta name="renderer" content="webkit" />
        <meta name="force-rendering" content="webkit" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />

        <link rel="stylesheet" type="text/css" href="./index.css" />

        <!-- 预加载 Boot Splash logo（最高优先级） -->
        <link rel="preload" href="./logo.png" as="image">

        <!-- Sui SDK (System.register 格式，必须在 main.js 之前加载) -->
        <script src="./libs/sui.system.js"></script>
    </head>
    <body style="overflow: hidden;">
        <%- include(cocosToolBar, {config: config}) %>
        <div id="content" class="content" style="overflow: hidden;">
            <div class="contentWrap">
                <!-- ============================================ -->
                <!-- Boot Splash - 预览时也显示 -->
                <!-- logo.png 为外部文件，通过 preload 提示浏览器优先加载 -->
                <!-- ============================================ -->
                <div id="boot-splash" style="position:absolute;top:0;left:0;width:100%;height:100%;background:#a8c5d1;display:flex;align-items:center;justify-content:center;z-index:9999;transition:opacity 0.8s ease-out;">
                  <img src="./logo.png" alt="Web3 Tycoon" style="max-width:60%;max-height:60%;object-fit:contain;filter:drop-shadow(0 10px 30px rgba(0,0,0,0.3));">
                </div>
                <script>
                  window.hideBootSplash=function(){var s=document.getElementById('boot-splash');if(s){console.log('[BootSplash] Hiding...');s.style.opacity='0';setTimeout(function(){s.style.display='none';s.remove();console.log('[BootSplash] Removed');},800);}};
                </script>
                <!-- ============================================ -->

                <div id="GameDiv" class="wrapper">
                    <div id="Cocos3dGameContainer">
                        <canvas id="GameCanvas" tabindex="-1" style="background-color: '';"></canvas>
                    </div>
                    <div id="splash">
                        <div class="progress-bar stripes"><span></span></div>
                    </div>
                    <div id="bulletin">
                        <div id="sceneIsEmpty" class="inner"><%=tip_sceneIsEmpty%></div>
                    </div>
                    <div class="error" id="error">
                        <div class="title">Error <i>(Please open the console to see detailed errors)</i></div>
                        <div class="error-main"></div>
                        <div class="error-stack"></div>
                    </div>
                </div>
            </div>
        </div>
        <%- include(cocosTemplate, {}) %>
    </body>
</html>
