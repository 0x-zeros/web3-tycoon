name = "web3-tycoon-api"
main = "src/index.ts"
compatibility_date = "2024-01-01"

# KV命名空间绑定
[[kv_namespaces]]
binding = "METADATA_KV"
id = "1250913519d04f358f1ab28851eaa4bf"

# R2存储桶绑定（需要在Cloudflare Dashboard中先启用R2服务）
# 使用前需要先创建R2存储桶：wrangler r2 bucket create web3-tycoon-assets
# [[r2_buckets]]
# binding = "ASSETS_R2"
# bucket_name = "web3-tycoon-assets"

# 环境变量
[vars]
ENVIRONMENT = "production"

# 开发环境配置
[env.dev]
name = "web3-tycoon-api-dev"
vars = { ENVIRONMENT = "development" }

# 部署前需要执行的命令：
# 1. wrangler kv:namespace create "METADATA_KV"
# 2. 将返回的ID填入上面的id字段
# 3. wrangler r2 bucket create web3-tycoon-assets
# 4. npm install
# 5. wrangler deploy
